@model List<DAL_Group4_E_Commerce.Models.Product>
@{
    ViewData["Title"] = "So sánh sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2 class="my-4">So sánh sản phẩm</h2>
@if (Model == null || !Model.Any())
{
    <div class="alert alert-warning">Không có sản phẩm nào để so sánh.</div>
}
else
{
    <div class="table-responsive">
        <table class="table table-bordered text-center align-middle">
            <thead class="thead-light">
                <tr>
                    <th>Thuộc tính</th>
                    @foreach (var p in Model)
                    {
                        <th>@p.ProductName</th>
                    }
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Ảnh</td>
                    @foreach (var p in Model)
                    {
                        <td><img src="@p.Image" alt="@p.ProductName" style="max-width:100px;max-height:100px;"></td>
                    }
                </tr>
                <tr>
                    <td>Giá gốc</td>
                    @foreach (var p in Model)
                    {
                        <td>@p.UnitPrice?.ToString("C0")</td>
                    }
                </tr>
                <tr>
                    <td>Giá sau giảm</td>
                    @foreach (var p in Model)
                    {
                        <td class="text-danger font-weight-bold">@((p.UnitPrice * (1 - p.Discount/100.0))?.ToString("C0"))</td>
                    }
                </tr>
                <tr>
                    <td>Giảm giá</td>
                    @foreach (var p in Model)
                    {
                        <td>@(p.Discount > 0 ? $"-{p.Discount}%" : "-")</td>
                    }
                </tr>
                <tr>
                    <td>Mô tả</td>
                    @foreach (var p in Model)
                    {
                        <td>@p.Description</td>
                    }
                </tr>
                <tr>
                    <td>Nhà cung cấp</td>
                    @foreach (var p in Model)
                    {
                        <td>@p.Supplier?.CompanyName</td>
                    }
                </tr>
            </tbody>
        </table>
    </div>
}
<a href="@Url.Action("Index", "Product")" class="btn btn-secondary mt-3">Quay lại danh sách sản phẩm</a> 