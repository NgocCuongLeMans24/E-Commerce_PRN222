@using System.Security.Claims
@{
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();
    var employeeId = User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
}

<div class="admin-sidebar" id="adminSidebar">
    <div class="sidebar-header">
        <div class="sidebar-brand">
            <i class="fas fa-cogs me-2"></i>
            <span class="brand-text">Admin Panel</span>
        </div>
        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>

    <div class="sidebar-content">
        <div class="sidebar-user">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="user-info">
                <div class="user-name">@User.FindFirst(ClaimTypes.Name)?.Value</div>
            </div>
        </div>

        <nav class="sidebar-nav">
            <ul class="nav-list">
                <!-- Dashboard -->
                <li class="nav-item">
                    <a href="@Url.Action("Index", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Index" ? "active" : "")">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>

                <!-- User Management Section -->
                <li class="nav-section">
                    <span class="section-title">User Management</span>
                </li>

                <!-- Customers -->
                <li class="nav-item">
                    <a href="@Url.Action("Customers", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Customers" ? "active" : "")">
                        <i class="nav-icon fas fa-users"></i>
                        <span class="nav-text">Customers</span>
                    </a>
                </li>

                <!-- Employees -->
                <li class="nav-item">
                    <a href="@Url.Action("Employees", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Employees" ? "active" : "")">
                        <i class="nav-icon fas fa-truck"></i>
                        <span class="nav-text">Employees</span>
                    </a>
                </li>

                <!-- Suppliers -->
                <li class="nav-item">
                    <a href="@Url.Action("Suppliers", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Suppliers" ? "active" : "")">
                        <i class="nav-icon fas fa-truck"></i>
                        <span class="nav-text">Suppliers</span>
                    </a>
                </li>

                <!-- System Management Section -->
                <li class="nav-section">
                    <span class="section-title">System Management</span>
                </li>

                <!-- Permissions -->
                <li class="nav-item">
                    <a href="@Url.Action("Permissions", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Permissions" ? "active" : "")">
                        <i class="nav-icon fas fa-shield-alt"></i>
                        <span class="nav-text">Permissions</span>
                    </a>
                </li>

                <!-- Web Pages -->
                <li class="nav-item">
                    <a href="@Url.Action("WebPages", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "WebPages" ? "active" : "")">
                        <i class="nav-icon fas fa-file-alt"></i>
                        <span class="nav-text">Web Pages</span>
                    </a>
                </li>

                <!-- E-commerce Section -->
                <li class="nav-section">
                    <span class="section-title">E-commerce</span>
                </li>

                <!-- Categories -->
                <li class="nav-item">
                    <a href="@Url.Action("Categories", "Admin")"
                       class="nav-link @(currentController == "Admin" && currentAction == "Categories" ? "active" : "")">
                        <i class="nav-icon fas fa-list"></i>
                        <span class="nav-text">Categories</span>
                    </a>
                </li>

                <!-- Products -->
                <li class="nav-item">
                    <a href="@Url.Action("Index", "Product")"
                       class="nav-link @(currentController == "Product" ? "active" : "")">
                        <i class="nav-icon fas fa-box"></i>
                        <span class="nav-text">Products</span>
                    </a>
                </li>

                <!-- Orders -->
                <li class="nav-item">
                    <a href="@Url.Action("Orders", "Admin")" 
                        class="nav-link @(currentController == "Admin" && currentAction == "Orders" ? "active" : "")">
                        <i class="nav-icon fas fa-shopping-cart"></i>
                        <span class="nav-text">Orders</span>
                    </a>
                </li>

                <!-- Analytics Section -->
                <li class="nav-section">
                    <span class="section-title">Analytics</span>
                </li>

                <!-- Reports -->
                <li class="nav-item">
                    <a href="@Url.Action("Index", "Analytics")"
                       class="nav-link @(currentController == "Analytics" && currentAction == "Index" ? "active" : "")">
                        <i class="nav-icon fas fa-chart-bar"></i>
                        <span class="nav-text">Reports</span>
                    </a>
                </li>

                <!-- Settings -->
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-cog"></i>
                        <span class="nav-text">Settings</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <div class="sidebar-footer">
        <form asp-controller="Account" asp-action="Logout" method="post" class="d-inline">
            <button type="submit" class="btn logout-btn border-0 bg-transparent p-0">
                <i class="fas fa-sign-out-alt me-2"></i>
                <span>Logout</span>
            </button>
        </form>
    </div>
</div>
